!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(e){function t(t){var a={},r=/^jQuery\d+$/;return e.each(t.attributes,function(e,t){t.specified&&!r.test(t.name)&&(a[t.name]=t.value)}),a}function a(t,a){var r=this,i=e(this);if(r.value===i.attr(o?"placeholder-x":"placeholder")&&i.hasClass(p.customClass))if(r.value="",i.removeClass(p.customClass),i.data("placeholder-password")){if(i=i.hide().nextAll('input[type="password"]:first').show().attr("id",i.removeAttr("id").data("placeholder-id")),!0===t)return i[0].value=a,a;i.focus()}else r==n()&&r.select()}function r(r){var n,i=this,s=e(this),l=i.id;if(!r||"blur"!==r.type||!s.hasClass(p.customClass))if(""===i.value){if("password"===i.type){if(!s.data("placeholder-textinput")){try{n=s.clone().prop({type:"text"})}catch(a){n=e("<input>").attr(e.extend(t(this),{type:"text"}))}n.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":s,"placeholder-id":l}).bind("focus.placeholder",a),s.data({"placeholder-textinput":n,"placeholder-id":l}).before(n)}i.value="",s=s.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",s.data("placeholder-id")).show()}else{var c=s.data("placeholder-password");c&&(c[0].value="",s.attr("id",s.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}s.addClass(p.customClass),s[0].value=s.attr(o?"placeholder-x":"placeholder")}else s.removeClass(p.customClass)}function n(){try{return document.activeElement}catch(e){}}var o=!1;if(!e("head style[_placeholder]").length){e("head").append("<style _uiPlaceholder='lock'>.placeholder{color: #999999;} </style>")}var i,s,l="[object OperaMini]"===Object.prototype.toString.call(window.operamini),c="placeholder"in document.createElement("input")&&!l&&!o,d="placeholder"in document.createElement("textarea")&&!l&&!o,u=e.valHooks,h=e.propHooks,p={};c&&d?((s=e.fn.placeholder=function(){return this}).input=!0,s.textarea=!0):((s=e.fn.placeholder=function(t){var n={customClass:"placeholder"};return p=e.extend({},n,t),this.filter((c?"textarea":":input")+"["+(o?"placeholder-x":"placeholder")+"]").not("."+p.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":a,"blur.placeholder":r}).data("placeholder-enabled",!0).trigger("blur.placeholder")}).input=c,s.textarea=d,i={get:function(t){var a=e(t),r=a.data("placeholder-password");return r?r[0].value:a.data("placeholder-enabled")&&a.hasClass(p.customClass)?"":t.value},set:function(t,o){var i,s,l=e(t);return""!==o&&(i=l.data("placeholder-textinput"),s=l.data("placeholder-password"),i?(a.call(i[0],!0,o)||(t.value=o),i[0].value=o):s&&(a.call(t,!0,o)||(s[0].value=o),t.value=o)),l.data("placeholder-enabled")?(""===o?(t.value=o,t!=n()&&r.call(t)):(l.hasClass(p.customClass)&&a.call(t),t.value=o),l):(t.value=o,l)}},c||(u.input=i,h.value=i),d||(u.textarea=i,h.value=i),e(function(){e(document).delegate("form","submit.placeholder",function(){var t=e("."+p.customClass,this).each(function(){a.call(this,!0,"")});setTimeout(function(){t.each(r)},10)})}),e(window).bind("beforeunload.placeholder",function(){var t=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(t=!1)}catch(e){}t&&e("."+p.customClass).each(function(){this.value=""})})),e.extend({vPlaceholder:{disabled:function(e){return c&&d?(e.attr("placeholder",""),this):(e.unbind("focus.placeholder"),e.unbind("blur.placeholder"),e[0].value==e.attr(o?"placeholder-x":"placeholder")&&(e[0].value="",e.attr("placeholder","")),e.removeClass("placeholder"),this)}}})}),function(e,t,a){e.extend(e.fn,{vSelect:function(a,r){if(!e("head style[_ui]").length){e("head").append("<style _ui='lock'>.has-error .select_current{color: rgb(246, 86, 98)!important}.has-success{border: 1px solid rgb(106, 196, 81)!important;} .has-success .select_current{color: #000000}</style>")}this.selector;var n={};e.extend(!0,n,a),e(this).each(function(a,r){var o=e(r);if(o.parent(".select_wrap").length>0)return!1;var i="jQuery_"+(new Date).getTime();o.wrap('<span class="select_wrap" _select='+i+"></span>"),e('<span class="select_current"></span><span class="select_list"><dl></dl></span><span class="select_btn"></span>').insertBefore(o);var s="[_select='"+i+"']",l=s+" .select_list",c=s+" .select_current",d=s+" .select_btn",u=l+" dl dd",h=s+" select option:selected",p=(e(h).index(),e(h).text());e(c).text(p),o.children().length&&o.children().each(function(t,a){e.nodeName(a,"OPTION")?n.lp&&!e(a).val()?e(l+" dl").append('<dd style="display: none;">'+e(a).text()+"</dd>"):e(l+" dl").append("<dd>"+e(a).text()+"</dd>"):e.nodeName(a,"OPTGROUP")&&(e(l+" dl").append("<dt>"+e(a).attr("label")+"</dt>"),e(a).children().length&&e(a).children().each(function(t,a){e(l+" dl").append("<dd>"+e(a).text()+"</dd>")}))}),e(c+", "+d).on("click",function(a){a.stopPropagation();e("[_select]").each(function(t,a){e(a).attr("_select")!=i&&(e(a).find(".select_btn").removeClass("select_btn_on"),e(a).find(".select_list").hide())}),e(s).removeClass("has-error"),e(c).css("border","");e(t).height(),e(s).offset().top;var r=e(l).height(),n=e(c).height();return r=r>=350?-350:-r,e(s).offset().top-e(t).scrollTop()<350?e(l).css({top:n}):e(u).css({top:r}),e(l).stop().toggle(),e(d).toggleClass("select_btn_on"),!1}),e(u).each(function(t,a){e(a).on("click",function(a){return a.stopPropagation(),e(c).text(e(this).text()),e(this).addClass("selected").siblings().removeClass("selected"),e(l).removeAttr("style"),e(d).removeClass("select_btn_on"),o.get(0).selectedIndex=t,o.trigger("change"),e(s+" .msg-box").empty(),e(this).text()!=p?e(s).addClass("has-success"):e(s).removeClass("has-success"),!1})}),e(document).on("click",function(t){e(l).stop().hide(),e(d).removeClass("select_btn_on")}),navigator.userAgent.match(/mobile/i)&&(e(u).off("click").hide(),e(c).off("click"),e(d).off("click"),e(s).find("select").show().css({opacity:0,"z-index":300,visibility:"visible"}).change(function(){var t=e(this).find("option:selected").text();e(c).text(t),t!=p?e(s).addClass("has-success"):e(s).removeClass("has-success")}))})},vRadio:function(t,a){this.selector;return this.parent(".radio_wrap").length>0?this:(this.wrap('<span class="radio_wrap"></span>'),this.find("input").filter(":radio[checked]").parents(".radio_wrap").addClass("radio_on_wrap"),this.on("click",function(){e(a).find("input[type='radio']").removeAttr("checked"),e(this).find("input").prop("checked","true"),e(a).find(".radio_wrap").removeClass("radio_on_wrap"),e(this).parent(".radio_wrap").addClass("radio_on_wrap")}),this)},vCheckBox:function(e){}})}(jQuery,window),function(e,t,a){e.extend(e.fn,{validator:function(t,a){if(!e("head style[_uiValidate]").length){e("head").append("<style _uiValidate='lock'>.has-success{border: 1px solid rgb(106, 196, 81)!important;} .has-error{border: 1px solid rgb(246, 86, 98)!important;}</style>")}var r=t;return this.each(function(){var t=e(this),n={};(n=e.extend(!0,n,a)).rmsg=n.rmsg?n.rmsg:e.validator.enumeration.message[r],n.fnmsg=n.fnmsg?n.fnmsg:e.validator.enumeration.message[r],n.type=e.validator.enumeration[r]?e.validator.enumeration[r]:n.rule,n.fn=e.validator.enumeration[r]?e.validator.enumeration[r]:null;var o="jQuery_"+Math.floor((new Date).getTime()*Math.random()*10);t.parent().attr("_validtaor",o),t.attr("id")||t.attr("id",o);var i="[_validtaor='"+o+"']",s=i+" .meg-error";n.errorTarget?s=n.errorTarget:0==e(s).length&&t.after(e("<label>",{class:"meg-error",for:t.attr("id")})),e(s).stop().hide(0),t.on("focus",function(){e(i).removeClass("has-error has-success has-warning"),e(s).hide(0)}).on("blur",function(a,r){var l,c=!1,d=e(this).val();n.errorTarget&&e(s).attr("for",o),e.trim(d)?e.trim(d)&&n.type?("[object Function]"!=Object.prototype.toString.call(n.type)||n.type(d,t))&&("[object RegExp]"!=Object.prototype.toString.call(n.type)||n.type.test(d))?c=!0:l=n.rmsg:e.trim(d)&&n.fn&&!n.fn.call(e(this),d,t,r)?l=n.fnmsg:c=!0:n.required?(e.vPlaceholder.disabled(t),l=n.rmsg):(c=!0,l=""),c?e.trim(d)?e(i).removeClass("has-error has-success has-warning").addClass("has-success"):e(i).removeClass("has-error has-success has-warning"):(e(i).removeClass("has-error has-success has-warning").addClass("has-error"),e(s).text(l).show()),e(this).data("validator",c)})})}}),e.extend({validator:{addRule:function(e,a,r){this.enumeration[e]&&t.console&&console.warn("你确定重写验证规则！"),this.enumeration[e]=a,this.enumeration.message[e]=r},enumeration:{username:/[\u4e00-\u9fa5A-Za-z]{2,20}|[\u4e00-\u9fa5]{2,8}/i,name:function(t){t=e.trim(t);var a=/^[\u4e00-\u9fa5]{2,8}$/i.test(t),r=/^([A-Za-z]+\s?)*[A-Za-z]$/.test(t),n=/^[\u4e00-\u9fa5A-Za-z]{2,20}$/i.test(t);return(a||r||n)&&t.length<=20},mobile:/^1[3,4,5,7,8]{1}[0-9]{9}$/,cphone:/^1[3,4,5,7,8]{1}[0-9]{9}$/,nation_code:function(t){return t=e.trim(t),!!/\+{0,1}[0-9]{1,4}/i.test(t)&&(!!(1*(t=t.replace(/\+/i,"")))&&/^[0-9]{1,4}$/i.test(t))},nation_phone:function(t,a){t=e.trim(t),this.rmsg="请输入正确的手机";var r={86:/^1[3,4,5,7,8]{1}[0-9]{9}$/,852:/^[5,6,9][0-9]{7}$/,886:/^9[0-9]{8}$/,81:/^0[5|6|7|8|9]0[0-9]{8}$/},n=e(a).parents("form").find("[name='nation_code']").val();n.replace(/\D/g,"");var o=1*n;return o?(o in r?r[o]:/^(?:0|\d{1,4})[\s-]?((?:\d{6,10}))$/).test(t):(this.rmsg="请输入正确的国码",this.errorTarget&&e(this.errorTarget).attr("for",e(a).parents("form").find("[name='nation_code']").attr("id")),!1)},email:/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,mail:/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,password:/^(?!\d+$)(?![a-zA-Z]+$)[0-9a-zA-Z]{6,18}$/,nickname:/^[A-Za-z0-9\u4E00-\u9FA5]+$/,identity:/^\d{17}[\d,x,X]$/,bankcard:/^\d{16,19}$/,chinname:/^[\u2E80-\u9FFF]{2,5}(?:•[\u2E80-\u9FFF]{2,5})*$/,coding:/^\d{12}$/,QQ:/^[1-9]{1}[0-9]{4,9}$/,captcha:/^\w{4}$/,message:{username:"用户名错误",name:"请输入正确的姓名",mobile:"请输入正确的手机",cphone:"请输入正确的手机",nation_code:"请输入正确的国码",nation_phone:"请输入正确的手机",email:"请输入正确的邮箱",mail:"请输入正确的邮箱",password:"密码格式错误",nickname:"昵称只能用中文、英文、数字组合",identity:"身份证格式错误",checkIdCard:"身份证号码错误",bankcard:"银行卡格式错误",chinname:"中文姓名格式有误",coding:"员工编码格式错误",QQ:"QQ号码格式错误",captcha:"验证码格式错误"}},showError:function(t,a){t.selector;t.each(function(t,r){e.nodeName(r,"SELECT")&&e(r).parent().attr("_select")&&(e(r).parent().addClass("has-error"),a&&e(r).parent().find(".select_current").html(a))})}}})}(jQuery,window),function(e,t,a){e.extend(e.fn,{vForm:function(a){this.selector;var r="https:"==document.location.protocol?" https://":" http://",n=t.index_exe_api_url?t.index_exe_api_url:r+"openapi.vipabc.com/VMD/OfficalWebAPI/LandingPageAPI/LandingPage",o={placeholder:!0,ui:{lp:!0},rules:{name:{required:!0},sex:{required:!0},age_area:{required:!0},cphone:{required:!0},nation_code:{required:!0,errorTarget:e(this).find("._error-phone-target").selector},nation_phone:{required:!0,errorTarget:e(this).find("._error-phone-target").selector},mail:{required:!0}},target:!1,ajaxUrl:n,submitHandler:e.vForm.defaultSubmit};return o=e.extend(!0,o,a),e(this).each(function(a,r){var n=e(r),i=n.find("[type='submit']");if(n.data({reset:n.html(),form:a}),o.placeholder&&(!e.fn.placeholder&&t.console&&console.warn("vForm依赖，placeholder插件，请引用该插件！"),e.fn.placeholder&&n.find("[placeholder]").placeholder()),o.ui&&(n.find("select").vSelect(o.ui,r),n.find("input[type='radio']").parent().vRadio(o.ui,r)),o.rules&&!e.isEmptyObject(o.rules)){e.fn.validator||(t.console&&console.warn("vForm依赖，validator插件，请引用该插件！"),o.rules=null);for(var s in o.rules)n.find("[name='"+s+"']").length&&n.find("[name='"+s+"']").validator(s,o.rules[s])}o.target||i.length||n.find("[type='button']").length||n.find("button").length||(t.console&&console.warn("请添加提交按钮，或者配置target节点对象！"),i=n),o.target&&(i=n.find(o.target)),!i.length&&n.find("[type='button']").length?i=n.find("[type='button']"):!i.length&&n.find("button").length&&(i=n.find("button")),i.off("click"),i.on("click",function(t){return o.rules&&!e.isEmptyObject(o.rules)?e.vForm.validate.call(n,o.rules)&&o.submitHandler.call(n,o,i):o.submitHandler.call(n,o,i),!1}),n.off("keydown"),n.on("keydown",function(t){"keydown"===t.type&&13==t.keyCode&&(o.rules&&!e.isEmptyObject(o.rules)?e.vForm.validate.call(n,o.rules)&&o.submitHandler.call(n,o,i):o.submitHandler.call(n,o,i))})}),this}}),e.extend({vForm:{cookie:function(t,a,r){if(void 0===a){var n=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),i=0;i<o.length;i++){var s=jQuery.trim(o[i]);if(s.substring(0,t.length+1)==t+"="){n=decodeURIComponent(s.substring(t.length+1));break}}return n}r=r||{},null===a&&(a="",(r=e.extend({},r)).expires=-1);var l="";if(r.expires&&("number"==typeof r.expires||r.expires.toUTCString)){var c;"number"==typeof r.expires?(c=new Date).setTime(c.getTime()+24*r.expires*60*60*1e3):c=r.expires,l="; expires="+c.toUTCString()}var d=r.path?"; path="+r.path:"",u=r.domain?"; domain="+r.domain:"",h=r.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(a),l,d,u,h].join("")},validate:function(t){var a=!0;for(var r in t){var n=!!this.find("[name='"+r+"']").length,o=this.find("[name='"+r+"']"),i=n&&e.nodeName(o[0],"INPUT")&&"radio"==o[0].type,s=n&&e.nodeName(o[0],"INPUT")&&"checkbox"==o[0].type,l=n&&e.nodeName(o[0],"INPUT")&&!i&&!s;if(l&&o.trigger("blur"),n&&e.nodeName(o[0],"SELECT")&&!o.val())return a=!1,"age_area"==o[0].name?e.validator.showError(o,"请选择年龄"):e.validator.showError(o),!1;if(i);else if(s);else if(l&&!o.data("validator"))return a=!1,!1}return a},defaultSubmit:function(t,a){var r=this,n={};if(n=e.vForm.serialize(n,this,{}),n=e.vForm.washData.call(r,n),n=e.vForm.washDataExtend.call(r,n),e.vForm.beforeSubmitAnalytics(r[0]),!e.vForm.loading(r,a))return!1;e.ajax({type:"POST",cache:!1,dataType:"jsonp",url:t.ajaxUrl,data:n,success:function(a){e.vForm.afterSubmitAnalytics.call(r,a),e.vForm.afterSubmitAnalyticsExtend.call(r,a),e.vForm.reset.call(r,t),e.vForm.afterSubmit.call(r,a,n)},error:function(a){e.vForm.reset.call(r,t),alert("亲！服务器出错了哦，重新试一下吧！")}})},beforeSubmitAnalytics:function(e){},afterSubmitAnalytics:function(e){},afterSubmitAnalyticsExtend:function(e){},afterSubmit:function(e,t){},reset:function(e){this.html(this.data("reset")).vForm(e).data({})},loading:function(t,a){var r=a;return"lock"!=r.data("lock")&&(r.data({lock:"lock"}),t.find("input").attr("disabled",!0),t.find("select")&&t.find("select").attr("disabled",!0),r.val("提交中..."),r.parent(".submit-wrap").css({position:"relative"}).append("<div class='waite' style='position:absolute;z-index:1000;background:#000 url(//source.vipabc.com/Ext/images/website/share/loading.gif) no-repeat center center;'></div>"),e(".waite").css({width:"100%",height:"100%",top:0,left:0,opacity:.5}),!0)},serialize:function(t,a,r){var n={};return a.find("input[name]").each(function(t,a){var r=e(this).attr("type");("radio"!=r||this.checked)&&("checkbox"!=r||this.checked)&&(a.value&&"checkbox"!=r?n[a.name]=e.trim(a.value):a.value&&"checkbox"==r&&(n[a.name]=n[a.name]?n[a.name]:[],n[a.name].push(a.value)))}),a.find("select[name]").each(function(e,t){t.value&&(n[t.name]=t.value)}),a.find("textarea[name]").each(function(t,a){a.value&&(n[a.name]=e.trim(a.value))}),r&&e.extend(!0,n,r),e.extend(!0,t,n),t},getQueryString:function(e){var a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=t.location.search.substr(1).match(a);return null!=r?unescape(r[2]):null},getUTMData:function(t){var a={utm_source:"",utm_campaign:"",utm_adgroup:"",utm_term:"",utm_medium:"",utm_channel:"",utm_account:"",utm_content:""};e.extend(!0,a,t);for(var r in a)a[r]=this.getQueryString(r)||"";return a},washData:function(a){if(a.nation_phone&&!a.cphone&&(a.cphone=a.nation_phone,delete a.nation_phone),a.nation_code&&(a.nation_code="+"+a.nation_code.replace(/\+/i,"")),!/utm\_[source|campaign|adgroup|term|medium|channel|account|content]/i.test(t.location.search.substr(1))){var r={utm_source:"",utm_campaign:"",utm_adgroup:"",utm_term:"",utm_medium:"",utm_channel:"",utm_account:"",utm_content:""},n=e.vForm.cookie("utmStorage");if(n)for(var o in r){var i=new RegExp("(^|&)"+o+"=([^&]*)(&|$)","i"),s=n.match(i);if(null!=s){r[o]=unescape(s[2]);try{a[o]=decodeURIComponent(escape(r[o]))}catch(e){a[o]=""}}}}var l=e.vForm.getUTMData();if(l)for(var o in l)if(""!=l[o])try{a[o]=decodeURIComponent(escape(l[o]))}catch(e){a[o]=""}var c="0",d=this.find("select").val();return(8==d||d>=20&&d<=31&&24!=d)&&(c="1"),e.extend(!0,a,{fromwhere:e.vForm.getQueryString("fromwhere"),jr:c,forceAgeBranding:a.forceAgeBranding||0,gscookie:e.vForm.cookie("_gscs_350196722")||e.vForm.cookie("_gscs_1527489509")||""}),a},washDataExtend:function(e){return e}}})}(jQuery,window);